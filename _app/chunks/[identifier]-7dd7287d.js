import{_ as E}from"./preload-helper-ec9aa979.js";import{S as w,i as k,s as b,aa as x,j as u,m as $,o as m,x as f,u as l,v as _,a_ as P,D as h,l as d,f as v,w as y,d as S,A as T,am as N,ap as R,r as j}from"./vendor-7663b874.js";import"./preferences-9b6e80b3.js";import{m as D}from"./stores-72c206c4.js";const L=Symbol.for("kahi-docs-snippet"),U=D(L);function A(a){let t,n;return t=new P({props:{size:"tiny"}}),{c(){u(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,s){m(t,e,s),n=!0},p:h,i(e){n||(f(t.$$.fragment,e),n=!0)},o(e){l(t.$$.fragment,e),n=!1},d(e){_(t,e)}}}function C(a){let t,n;return t=new x({props:{alignment:"center",height:"viewport-100",$$slots:{default:[A]},$$scope:{ctx:a}}}),{c(){u(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,s){m(t,e,s),n=!0},p(e,[s]){const c={};s&1&&(c.$$scope={dirty:s,ctx:e}),t.$set(c)},i(e){n||(f(t.$$.fragment,e),n=!0)},o(e){l(t.$$.fragment,e),n=!1},d(e){_(t,e)}}}class I extends w{constructor(t){super();k(this,t,null,C,b,{})}}function O(a){let t,n;return t=new I({}),{c(){u(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,s){m(t,e,s),n=!0},p:h,i(e){n||(f(t.$$.fragment,e),n=!0)},o(e){l(t.$$.fragment,e),n=!1},d(e){_(t,e)}}}function X(a){let t,n,e;var s=a[0];function c(r){return{}}return s&&(t=new s(c())),{c(){t&&u(t.$$.fragment),n=d()},l(r){t&&$(t.$$.fragment,r),n=d()},m(r,i){t&&m(t,r,i),v(r,n,i),e=!0},p(r,i){if(s!==(s=r[0])){if(t){j();const o=t;l(o.$$.fragment,1,0,()=>{_(o,1)}),y()}s?(t=new s(c()),u(t.$$.fragment),f(t.$$.fragment,1),m(t,n.parentNode,n)):t=null}},i(r){e||(t&&f(t.$$.fragment,r),e=!0)},o(r){t&&l(t.$$.fragment,r),e=!1},d(r){r&&S(n),t&&_(t,r)}}}function q(a){let t,n,e,s;const c=[X,O],r=[];function i(o,p){return o[0]?0:1}return t=i(a),n=r[t]=c[t](a),{c(){n.c(),e=d()},l(o){n.l(o),e=d()},m(o,p){r[t].m(o,p),v(o,e,p),s=!0},p(o,[p]){let g=t;t=i(o),t===g?r[t].p(o,p):(j(),l(r[g],1,1,()=>{r[g]=null}),y(),n=r[t],n?n.p(o,p):(n=r[t]=c[t](o),n.c()),f(n,1),n.m(e.parentNode,e))},i(o){s||(f(n),s=!0)},o(o){l(n),s=!1},d(o){r[t].d(o),o&&S(e)}}}const z=new Set(["html","svelte"]),Y=async({fetch:a,page:t})=>{const{document:n="",identifier:e=""}=t.params,s=await a(`/api/v3/content/${n}.json`);if(!s.ok){const i=await s.json();return{status:s.status,error:i.code}}const r=(await s.json()).data.properties.snippets.find(i=>i.identifier===e);return r?z.has(r.syntax)?{props:{snippet:r}}:{status:400,error:"UnsupportedSyntax"}:{status:404,error:"InvalidSnippet"}};function B(a,t,n){let e,{snippet:s}=t,c;T(async()=>{n(0,c=(await E(()=>import("./REPLEditor-6d6701d2.js"),["chunks/REPLEditor-6d6701d2.js","assets/REPLEditor-797acb3f.css","chunks/vendor-7663b874.js","chunks/preferences-9b6e80b3.js","chunks/Code-98ae50ad.js","chunks/ExternalLink-62ff6727.js","chunks/preload-helper-ec9aa979.js","chunks/stores-72c206c4.js"])).default)});const r=U.init(s);return N(a,r,i=>n(3,e=i)),a.$$set=i=>{"snippet"in i&&n(2,s=i.snippet)},a.$$.update=()=>{a.$$.dirty&4&&R(r,e=s,e)},[c,r,s]}class F extends w{constructor(t){super();k(this,t,B,q,b,{snippet:2})}}export{I as R,F as U,Y as l,U as s};
