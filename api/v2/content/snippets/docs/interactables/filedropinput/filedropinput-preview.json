{"data":{"identifier":"filedropinput-preview","script":"<script>\n    import {\n        Button,\n        FileDropInput,\n        Stack,\n        Text,\n        Tile,\n    } from \"@kahi-ui/framework\";\n\n    function on_change(event) {\n        if (!event.isTrusted) return;\n\n        const {target} = event;\n\n        files = [\n            ...files,\n            ...Array.from(target.files),\n        ];\n\n        target.value = \"\";\n    }\n\n    function on_clear_click(event) {\n        files = [];\n    }\n\n    function on_remove_click(event, file) {\n        files = files.filter(\n            (_file) => file !== _file\n        );\n    }\n\n    let files = [];\n</script>\n\n<FileDropInput\n    class=\"filedropinput-preview\"\n    multiple\n    on:change={on_change}\n>\n    <Stack spacing=\"medium\">\n        <Text is=\"strong\">&uparrow;</Text>\n\n        <Text>Drag-and-drop files here...</Text>\n    </Stack>\n</FileDropInput>\n\n{#if files.length > 0}\n    <Stack spacing=\"medium\" margin_y=\"medium\">\n        {#each files as file (file.name)}\n            <Tile.Container\n                sizing=\"small\"\n                palette=\"auto\"\n            >\n                <Tile.Section>\n                    <Tile.Header>\n                        {file.name}\n                    </Tile.Header>\n\n                    <Text>{file.type}</Text>\n                </Tile.Section>\n\n                <Tile.Footer>\n                    <Button\n                        size=\"small\"\n                        palette=\"negative\"\n                        on:click={(event) =>\n                            on_remove_click(\n                                event,\n                                file\n                            )}\n                    >\n                        x\n                    </Button>\n                </Tile.Footer>\n            </Tile.Container>\n        {/each}\n    </Stack>\n\n    <Stack alignment_x=\"right\">\n        <Button\n            variation=\"clear\"\n            palette=\"negative\"\n            on:click={on_clear_click}\n        >\n            Clear All\n        </Button>\n    </Stack>\n{/if}\n\n<style>\n    :global(.filedropinput-preview) :global(strong) {\n        font-size: 3em;\n    }\n</style>","syntax":"svelte","title":"FileDropInput Preview"}}